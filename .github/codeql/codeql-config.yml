# CodeQL configuration for Lambda security scanning
name: "Lambda Security Analysis"

# Disable default queries and use security-focused query suites
disable-default-queries: false

# Include additional security query suites
queries:
  - name: security-extended
    uses: security-extended
  - name: security-and-quality
    uses: security-and-quality

# Custom query filters
query-filters:
  - exclude:
      id: js/unused-local-variable
  - exclude:
      id: js/debugger-statement
  - include:
      tags:
        - security
        - external/cwe

# Paths to analyze
paths:
  - src/
  - scripts/

# Paths to ignore  
paths-ignore:
  - node_modules/
  - dist/
  - coverage/
  - "**/*.test.js"
  - "**/*.test.ts"
  - "**/*.spec.js" 
  - "**/*.spec.ts"

# Build configuration for compiled languages
# (Not needed for JavaScript/TypeScript but included for completeness)
build:
  # No build steps required for JavaScript analysis
  commands: []

# Packs to include for enhanced security analysis
packs:
  - codeql/javascript-queries
  - codeql/javascript-security-queries