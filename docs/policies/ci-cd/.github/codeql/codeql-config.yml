name: "Lambda Production Security Analysis"

# Disable default queries and use custom security-focused queries
disable-default-queries: false

# Additional query packs for enhanced security scanning
packs:
  - codeql/javascript-queries:Security
  - codeql/python-queries:Security
  - codeql/java-queries:Security
  - codeql/csharp-queries:Security

# Custom queries for Lambda-specific security issues
queries:
  - name: lambda-security-queries
    uses: ./.github/codeql/queries/

# Query filters to focus on security and reliability
query-filters:
  - include:
      kind:
        - problem
        - path-problem
      tags:
        - security
        - reliability
        - maintainability
      severity:
        - error
        - warning

# Paths to analyze
paths:
  - src/
  - lambda/
  - functions/
  - handlers/

# Paths to ignore
paths-ignore:
  - node_modules/
  - dist/
  - build/
  - .aws-sam/
  - .serverless/
  - test/
  - tests/
  - __tests__/
  - spec/
  - "**/*.test.js"
  - "**/*.spec.js"
  - "**/*.test.py"
  - "**/*.spec.py"